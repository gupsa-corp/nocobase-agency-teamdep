{"level":"error","message":"Unauthenticated. Please sign in to continue.","meta":{"err":"UnauthorizedError: Unauthenticated. Please sign in to continue.\n    at Object.throw (/app/nocobase/node_modules/koa/lib/context.js:97:11)\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:88:21)\n    at BasicAuth.check (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:193:79)\n    at AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:121:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async validateFilterParams (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/validate-filter-params.js:39:12)\n    at async app.resourcer.use.before (/app/nocobase/node_modules/@nocobase/plugin-file-manager/dist/server/actions/index.js:55:7)\n    at async dataWrapping (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-wrapping.js:48:5)\n    at async cors (/app/nocobase/node_modules/@koa/cors/index.js:64:16)\n    at async errorHandler (/app/nocobase/node_modules/@nocobase/plugin-error-handler/dist/server/error-handler.js:69:9)\n    at async handleAppendDataSourceCollection (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:351:7)\n    at async setDataSourceListItemStatus (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:226:7)\n    at async extractClientIp (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/extract-client-ip.js:39:5)\n    at async i18n (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/i18n.js:47:3)\n    at async getBearerToken (/app/nocobase/node_modules/@nocobase/server/lib/helper.js:122:5)\n    at async bodyParser (/app/nocobase/node_modules/koa-bodyparser/index.js:78:5)\n    at async requestLoggerMiddleware (/app/nocobase/node_modules/@nocobase/logger/lib/request-logger.js:73:7)\n    at async /app/nocobase/node_modules/@nocobase/server/lib/audit-manager/index.js:313:9\n    at async generateReqId (/app/nocobase/node_modules/@nocobase/server/lib/helper.js:83:7)"},"module":"auth","submodule":"check","method":"error-handler","app":"main","reqId":"1a1b1ed6-4d10-4050-bf71-2c61bf63f04a","dataSourceKey":"main","timestamp":"2025-11-15 17:49:28"}
{"level":"error","message":"Unauthenticated. Please sign in to continue.","meta":{"err":"UnauthorizedError: Unauthenticated. Please sign in to continue.\n    at Object.throw (/app/nocobase/node_modules/koa/lib/context.js:97:11)\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:88:21)\n    at BasicAuth.check (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:193:79)\n    at AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:121:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async validateFilterParams (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/validate-filter-params.js:39:12)\n    at async app.resourcer.use.before (/app/nocobase/node_modules/@nocobase/plugin-file-manager/dist/server/actions/index.js:55:7)\n    at async dataWrapping (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-wrapping.js:48:5)\n    at async cors (/app/nocobase/node_modules/@koa/cors/index.js:64:16)\n    at async errorHandler (/app/nocobase/node_modules/@nocobase/plugin-error-handler/dist/server/error-handler.js:69:9)\n    at async handleAppendDataSourceCollection (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:351:7)\n    at async setDataSourceListItemStatus (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:226:7)\n    at async extractClientIp (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/extract-client-ip.js:39:5)\n    at async i18n (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/i18n.js:47:3)\n    at async getBearerToken (/app/nocobase/node_modules/@nocobase/server/lib/helper.js:122:5)\n    at async bodyParser (/app/nocobase/node_modules/koa-bodyparser/index.js:78:5)\n    at async requestLoggerMiddleware (/app/nocobase/node_modules/@nocobase/logger/lib/request-logger.js:73:7)\n    at async /app/nocobase/node_modules/@nocobase/server/lib/audit-manager/index.js:313:9\n    at async generateReqId (/app/nocobase/node_modules/@nocobase/server/lib/helper.js:83:7)"},"module":"roles","submodule":"check","method":"error-handler","app":"main","reqId":"605967c0-dcf5-4fc8-a5e1-59f5fb4e9bcd","dataSourceKey":"main","timestamp":"2025-11-15 17:49:28"}
{"level":"error","message":"The username/email or password is incorrect, please re-enter","meta":{"err":"UnauthorizedError: The username/email or password is incorrect, please re-enter\n    at Object.throw (/app/nocobase/node_modules/koa/lib/context.js:97:11)\n    at BasicAuth.signIn (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:265:21)\n    at async signIn (/app/nocobase/node_modules/@nocobase/auth/lib/actions.js:36:16)\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async /app/nocobase/node_modules/@nocobase/plugin-users/dist/server/server.js:208:7\n    at async deleteRolesCache (/app/nocobase/node_modules/@nocobase/plugin-users/dist/server/server.js:197:7)\n    at async handleFieldSourceMiddleware (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:437:7)\n    at async mergeReverseFieldWhenSaveCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:411:7)\n    at async templateDataMiddleware (/app/nocobase/node_modules/@nocobase/plugin-block-template/dist/server/middlewares/templateData.js:45:3)\n    at async pushUISchemaWhenUpdateCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:372:7)\n    at async pushUISchemaWhenUpdateCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:353:7)\n    at async appendDataToRolesCheck (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:651:7)\n    at async verifyDatasourceCollectionsCount (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:348:7)\n    at async setDataSourceListDefaultSort (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:313:7)\n    at async showAnonymous (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:470:7)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:546:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:453:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:326:14)\n    at async validateFilterParams (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/validate-filter-params.js:39:12)\n    at async app.resourcer.use.before (/app/nocobase/node_modules/@nocobase/plugin-file-manager/dist/server/actions/index.js:55:7)"},"module":"auth","submodule":"signIn","method":"error-handler","app":"main","reqId":"9c522af9-a71b-47e2-9ccd-1bda16102175","dataSourceKey":"main","timestamp":"2025-11-15 17:49:47"}
{"level":"error","message":"Cannot read properties of undefined (reading 'repository')","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at get userRepository [as userRepository] (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:54:32)\n    at /app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:113:18\n    at /app/nocobase/node_modules/cache-manager/dist/caching.js:58:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _Cache.wrap (/app/nocobase/node_modules/@nocobase/cache/lib/cache.js:58:12)\n    at async BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:111:27)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"4dc5766d-6982-4b2a-b10d-ffe0f976ad59","dataSourceKey":"main","timestamp":"2025-11-15 18:16:25"}
{"level":"error","message":"Cannot read properties of undefined (reading 'repository')","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at get userRepository [as userRepository] (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:54:32)\n    at /app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:113:18\n    at /app/nocobase/node_modules/cache-manager/dist/caching.js:58:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _Cache.wrap (/app/nocobase/node_modules/@nocobase/cache/lib/cache.js:58:12)\n    at async BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:111:27)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"4dc5766d-6982-4b2a-b10d-ffe0f976ad59","dataSourceKey":"main","timestamp":"2025-11-15 18:16:25"}
{"level":"error","message":"Cannot read properties of undefined (reading 'getConfig')","stack":"TypeError: Cannot read properties of undefined (reading 'getConfig')\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:146:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"4dc5766d-6982-4b2a-b10d-ffe0f976ad59","dataSourceKey":"main","timestamp":"2025-11-15 18:16:25"}
{"level":"error","message":"Cannot read properties of undefined (reading 'getConfig')","stack":"TypeError: Cannot read properties of undefined (reading 'getConfig')\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:146:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"4dc5766d-6982-4b2a-b10d-ffe0f976ad59","dataSourceKey":"main","timestamp":"2025-11-15 18:16:26"}
{"level":"error","message":"Cannot read properties of undefined (reading 'getConfig')","stack":"TypeError: Cannot read properties of undefined (reading 'getConfig')\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:146:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"b95a0ea9-b219-466d-aaf7-c0ad25851290","dataSourceKey":"main","timestamp":"2025-11-15 18:19:30"}
{"level":"error","message":"Cannot read properties of undefined (reading 'getConfig')","stack":"TypeError: Cannot read properties of undefined (reading 'getConfig')\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:146:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"b95a0ea9-b219-466d-aaf7-c0ad25851290","dataSourceKey":"main","timestamp":"2025-11-15 18:19:31"}
{"level":"error","message":"Cannot read properties of undefined (reading 'repository')","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at get userRepository [as userRepository] (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:54:32)\n    at /app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:113:18\n    at /app/nocobase/node_modules/cache-manager/dist/caching.js:58:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _Cache.wrap (/app/nocobase/node_modules/@nocobase/cache/lib/cache.js:58:12)\n    at async BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:111:27)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"b95a0ea9-b219-466d-aaf7-c0ad25851290","dataSourceKey":"main","timestamp":"2025-11-15 18:19:31"}
{"level":"error","message":"Cannot read properties of undefined (reading 'getConfig')","stack":"TypeError: Cannot read properties of undefined (reading 'getConfig')\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:146:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:179:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"b95a0ea9-b219-466d-aaf7-c0ad25851290","dataSourceKey":"main","timestamp":"2025-11-15 18:19:31"}
{"level":"error","message":"Validation error","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.insert (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async model.save (/app/nocobase/node_modules/sequelize/lib/model.js:2490:35)\n    at async users.create (/app/nocobase/node_modules/sequelize/lib/model.js:1362:12)\n    at async _Repository.create (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:457:22)\n    at async descriptor.value (/app/nocobase/node_modules/@nocobase/database/lib/decorators/transaction-decorator.js:84:29)\n    at async create (/app/nocobase/node_modules/@nocobase/actions/lib/actions/create.js:37:20)\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async /app/nocobase/node_modules/@nocobase/plugin-users/dist/server/server.js:208:7\n    at async deleteRolesCache (/app/nocobase/node_modules/@nocobase/plugin-users/dist/server/server.js:197:7)\n    at async handleFieldSourceMiddleware (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:449:7)\n    at async mergeReverseFieldWhenSaveCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:413:7)\n    at async templateDataMiddleware (/app/nocobase/node_modules/@nocobase/plugin-block-template/dist/server/middlewares/templateData.js:45:3)\n    at async pushUISchemaWhenUpdateCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:374:7)\n    at async pushUISchemaWhenUpdateCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:355:7)\n    at async appendDataToRolesCheck (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:566:7)\n    at async loadDataSourceTablesIntoCollections (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/middlewares/load-tables.js:69:3)\n    at async setDataSourceListDefaultSort (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:312:7)\n    at async showAnonymous (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:470:7)"},"module":"users","submodule":"create","method":"error-handler","app":"main","reqId":"fbb31a46-f7f3-45b5-b36c-887c52b35f90","dataSourceKey":"main","timestamp":"2025-11-15 18:26:49"}
{"level":"error","message":"400 Tool use is not supported in Responses API without Harmony None","stack":"Error: 400 Tool use is not supported in Responses API without Harmony None\n    at APIError.generate (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:151013)\n    at OpenAI.makeStatusError (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:140233)\n    at OpenAI.makeRequest (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:143733)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:28:50722\n    at async RetryOperation._fn (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:68775)","meta":{},"module":"aiConversations","submodule":"sendMessages","method":"","app":"main","reqId":"ea1fb3a3-9507-4492-b35d-1c50d25cafa3","dataSourceKey":"main","timestamp":"2025-11-15 18:29:03"}
{"level":"error","message":"400 Tool use is not supported in Responses API without Harmony None","stack":"Error: 400 Tool use is not supported in Responses API without Harmony None\n    at APIError.generate (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:151013)\n    at OpenAI.makeStatusError (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:140233)\n    at OpenAI.makeRequest (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:143733)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:28:50722\n    at async RetryOperation._fn (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:68775)","meta":{},"module":"aiConversations","submodule":"resendMessages","method":"","app":"main","reqId":"dec3d95a-cb78-4ea4-b17b-7e08360db4a2","dataSourceKey":"main","timestamp":"2025-11-15 18:29:26"}
{"level":"error","message":"400 Tool use is not supported in Responses API without Harmony None","stack":"Error: 400 Tool use is not supported in Responses API without Harmony None\n    at APIError.generate (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:151013)\n    at OpenAI.makeStatusError (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:140233)\n    at OpenAI.makeRequest (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:143733)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:28:50722\n    at async RetryOperation._fn (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:68775)","meta":{},"module":"aiConversations","submodule":"sendMessages","method":"","app":"main","reqId":"4eb85e16-d572-4a24-9c67-88dc2255fd2f","dataSourceKey":"main","timestamp":"2025-11-15 18:29:42"}
{"level":"error","message":"400 Tool use is not supported in Responses API without Harmony None","stack":"Error: 400 Tool use is not supported in Responses API without Harmony None\n    at APIError.generate (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:151013)\n    at OpenAI.makeStatusError (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:140233)\n    at OpenAI.makeRequest (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:143733)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:28:50722\n    at async RetryOperation._fn (/app/nocobase/node_modules/@nocobase/plugin-ai/dist/node_modules/@langchain/openai/index.cjs:1:68775)","meta":{},"module":"aiConversations","submodule":"resendMessages","method":"","app":"main","reqId":"6509babb-6da2-46e9-9bf8-97e4d073df62","dataSourceKey":"main","timestamp":"2025-11-15 18:29:43"}
